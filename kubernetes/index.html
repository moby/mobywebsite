<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Moby projects and Kubernetes</title>
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <link href="/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,800" rel="stylesheet">
    <link rel="stylesheet" href="/fonts/font-awesome-4.7.0/css/font-awesome.min.css">
  </head>

<body class="ready">

<nav class="primary-nav navbar navbar-toggleable-md fixed-top navbar-inverse navbar-expand-md">
    <!-- <div class="container"> -->
        <button class="toggle navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fa fa-bars" aria-hidden="true"></i>
            <!-- <i class="fa fa-caret-down" aria-hidden="true"></i> -->
        </button>
        <div class="brand">
            <a href="/">
  <svg id="62fd0a44-006e-4f0b-a15a-89faa84d6829" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 167.2 34.89"><title>moby</title><g id="b15aae01-8804-4f98-8c25-fdaeefa1406f" data-name="Page-1"><g id="3e77fe43-c191-4609-bd1f-fc92b641d8de" data-name="Artboard"><g id="db658e32-7de5-4695-8ac0-c1dafbc7f969" data-name="Group"><g id="1a13e8e5-cf70-4a93-aa29-e6bc1921be6a" data-name="Rectangle"><path d="M5.32,20.44A16.12,16.12,0,1,0,21.44,4.32,16.12,16.12,0,0,0,5.32,20.44ZM4,20.44A17.44,17.44,0,1,1,21.44,37.89,17.44,17.44,0,0,1,4,20.44Z" transform="translate(-4 -3)" style="fill:#fff"/></g><g id="5afc6b6f-2ffa-4176-9b5f-ab9c171c04c9" data-name="Combined-Shape"><path d="M18,36.68a52.79,52.79,0,0,0,3.1-6.28c3.13.09,9.9,0,13.29-6.56.09-.17.26-.52.87-1.81l.35-.69L33.69,20.2C31.6,18.82,26.74,18.3,23,19c-.43-3.54-2.43-6.56-6-9.33L15,8.28l-1.39,2.07a16.05,16.05,0,0,0-2.34,9.76,11.45,11.45,0,0,0,1.82,5.35A14.35,14.35,0,0,1,6.21,27,16.57,16.57,0,1,1,18,36.68Zm-4.07-1.44q-.73-.39-1.38-.79Q13.22,34.88,13.93,35.24Z" transform="translate(-4 -3)" style="fill:#fff"/></g></g><g id="0e76a8cc-554a-48a7-8f33-c1ca2fcc7436" data-name="Moby" style="isolation:isolate"><g style="isolation:isolate"><path d="M60.56,26.86l-3.08-8V28H54.2V14h4.44l3.48,8.86L65.62,14h4.44V28H66.78V18.82l-3.08,8Z" transform="translate(-4 -3)" style="fill:#fff"/><path d="M77.38,17.24a5.43,5.43,0,0,1,5.76,5.5,5.49,5.49,0,0,1-5.76,5.52,5.4,5.4,0,0,1-5.7-5.48A5.49,5.49,0,0,1,77.38,17.24Zm0,8.08a2.43,2.43,0,0,0,2.42-2.58,2.4,2.4,0,1,0-4.78,0A2.35,2.35,0,0,0,77.38,25.32Z" transform="translate(-4 -3)" style="fill:#fff"/><path d="M87.64,28H84.52V13.54h3.34V18.3a3.88,3.88,0,0,1,2.8-1.06c3,0,5,2.26,5,5.52s-2.12,5.5-5.14,5.5a4,4,0,0,1-2.84-1.08ZM90,25.34a2.29,2.29,0,0,0,2.26-2.56A2.32,2.32,0,0,0,90,20.18c-1.32,0-2.26.94-2.26,2.6A2.31,2.31,0,0,0,90,25.34Z" transform="translate(-4 -3)" style="fill:#fff"/><path d="M101.84,31.58H98.68l1.42-3.92L96.18,17.5h3.58l1.86,6,1.94-6H107Z" transform="translate(-4 -3)" style="fill:#fff"/></g></g><g id="cd464abf-e261-4a16-a9b5-77df6384f4d3" data-name="project" style="isolation:isolate"><g style="isolation:isolate"><path d="M111.5,17.62h1v1.92a4.41,4.41,0,0,1,3.86-2.18c3,0,5.06,2.26,5.06,5.42s-2,5.48-5,5.48a4.52,4.52,0,0,1-4-2.24v5.72h-1Zm4.94,9.7c2.26,0,3.94-1.88,3.94-4.54s-1.76-4.48-4-4.48c-2.42,0-3.94,2-3.94,4.48C112.46,25.66,114.28,27.32,116.44,27.32Z" transform="translate(-4 -3)" style="fill:#fff"/><path d="M127.88,18.34c-2.46,0-3.2,2-3.2,4.18V28h-1V17.62h1v1.86a3.31,3.31,0,0,1,3.2-2.12Z" transform="translate(-4 -3)" style="fill:#fff"/><path d="M134.2,17.36a5.26,5.26,0,0,1,5.32,5.44,5.33,5.33,0,1,1-10.66,0A5.25,5.25,0,0,1,134.2,17.36Zm0,10a4.26,4.26,0,0,0,4.3-4.52,4.3,4.3,0,1,0-8.58,0A4.25,4.25,0,0,0,134.18,27.32Z" transform="translate(-4 -3)" style="fill:#fff"/><path d="M141.76,17.62h1v10.8c0,2.58-1.32,3.38-2.86,3.38l-.48,0v-.9l.44,0c1.24,0,1.9-.74,1.9-2.46Zm.5-3.58a.82.82,0,1,1-.82.82A.81.81,0,0,1,142.26,14Z" transform="translate(-4 -3)" style="fill:#fff"/><path d="M150,17.36c3,0,4.88,2.22,4.88,5.2V23h-8.84a4,4,0,0,0,4.24,4.36,4.15,4.15,0,0,0,3.58-1.78l.66.46a4.75,4.75,0,0,1-4.24,2.24A5.12,5.12,0,0,1,145,22.84C145,19.44,147.38,17.36,150,17.36Zm3.84,4.74A3.71,3.71,0,0,0,150,18.28a3.85,3.85,0,0,0-3.88,3.82Z" transform="translate(-4 -3)" style="fill:#fff"/><path d="M165,19.82a4.61,4.61,0,0,0-3.42-1.52,4.24,4.24,0,0,0-4.14,4.5,4.34,4.34,0,0,0,4.16,4.52,4.63,4.63,0,0,0,3.46-1.6l.36.88a5.08,5.08,0,0,1-3.84,1.66,5.23,5.23,0,0,1-5.2-5.46,5.25,5.25,0,0,1,5.2-5.44,5.17,5.17,0,0,1,3.82,1.58Z" transform="translate(-4 -3)" style="fill:#fff"/><path d="M167.66,15.46h1v2.16h2.44v.9h-2.44v5.84c0,2.26.52,2.84,2.08,2.84l.46,0v.9s-.48,0-.86,0c-1.64,0-2.68-1-2.68-3.12V18.52h-1.28v-.9h1.28Z" transform="translate(-4 -3)" style="fill:#fff"/></g></g></g></g></svg>
 </a>

          </div>
        <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
            <div class="justify-content-end">
                <ul class="navbar-nav mr-auto">
                    <ul class="navbar-nav mr-auto">
	<li class="nav-item nav-icon">
		<a title="GitHub" href="https://github.com/moby/moby#readme">
		<i class="fa fa-github" aria-hidden="true"></i></a>
	</li>
	<li><a class="primary-nav-link nav-item" href="/community">Community</a></li>
	<li><a class="primary-nav-link nav-item" href="/projects">Projects</a></li>
	<li><a class="primary-nav-link" href="https://github.com/moby/moby/discussions" target="_blank">Discussions</a></li>
</ul>

                </ul>
            </div>
        </div>
    <!-- </div> -->
</nav>

 <div class="header-projects">
  <div class="banner-text">
    <h1>Moby and Kubernetes</h1>
    <!-- <p>Moby support for Kubernetes</p> -->
	</div>
</div>

<div class="container">
	<div class="project-content">
   	<h2 id="how-moby-and-kubernetes-work-together">How Moby and Kubernetes work together</h2>

<p>There have always been close relations between the Moby open source projects, led by Docker, and Kubernetes, since Kubernetes was launched at DockerCon 2014. The Kubernetes and the Moby communities often include the same people, attending the same meetups, using the same languages and design patterns, and trying to solve the same problems. The containerd project was started last year in collaboration with all of the major cloud providers and has worked with the Kubernetes community to provide an open and reliable container runtime for higher level orchestration projects and container platforms, including Kubernetes.</p>

<p>This page summarizes how each Moby Project integrates Kubernetes and how to get involved.</p>

<p><img src="images/dockercon-2017-eu.002.jpeg" alt="docker con 2017" title="Moby &lt;3 Kubernetes" /></p>

<h3 id="containerd-and-cri-containerd">containerd and cri-containerd</h3>

<p>Code: <a href="https://github.com/containerd/containerd">https://github.com/containerd/containerd</a></p>

<p>The containerd project was designed to be used as the core container runtime for future editions of Docker, Kubernetes, and many other projects. The project is currently <a href="https://github.com/containerd/containerd/milestone/13">approaching the 1.0 milestone</a>.</p>

<p>Code: <a href="https://github.com/kubernetes-incubator/cri-containerd">https://github.com/kubernetes-incubator/cri-containerd</a></p>

<p>To use containerd with Kubernetes, you need to use the cri-containerd CRI (common runtime interface) adaptor. This is currently largely feature complete, and works with Kubernetes 1.7 or later, and is in the final stabilisation process. There are outstanding issues that need help and you can find out more on the <a href="https://github.com/kubernetes-incubator/cri-containerd/issues">cri-containerd issue tracker</a>.  Any bugs you find should be reported there too. Below are slides from the <a href="https://blog.mobyproject.org/moby-summit-los-angeles-recap-a41e6acf81f8">Moby Summit in Los Angeles</a>, which cover the Kubernetes containerd integration by <a href="https://medium.com/@liulantao">Liu Lantao</a>.</p>

<iframe src="//www.slideshare.net/slideshow/embed_code/key/K41Ft9AiQEYtCA" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen="">
 
</iframe>

<p>There are several ways you can set up a Kubernetes cluster with containerd and cri-containerd:</p>

<ul>
  <li>
    <p>To try it out there is a quick start with Ansible (see the <a href="https://github.com/kubernetes-incubator/cri-containerd/blob/master/contrib/ansible/README.md">README</a>)</p>
  </li>
  <li>
    <p>You can try it with Kelsey Hightower’s <a href="https://github.com/kelseyhightower/kubernetes-the-hard-way">Kubernetes the Hard Way</a> to create a cluster from scratch on Google Cloud.</p>
  </li>
  <li>
    <p>Install from the release tarball using kubeadm (see the <a href="https://github.com/kubernetes-incubator/cri-containerd/blob/master/docs/installation.md">instructions</a>)</p>
  </li>
  <li>
    <p>Install with LinuxKit on a local VM (see the <a href="https://github.com/linuxkit/kubernetes">instructions</a>).</p>
  </li>
</ul>

<p>You can join the discussions on the <code class="language-plaintext highlighter-rouge">#containerd</code> channel on the <a href="https://dockr.ly/comm-slack">Community Slack</a>.</p>

<h3 id="linuxkit">LinuxKit</h3>

<p>Code: <a href="https://github.com/linuxkit/linuxkit">https://github.com/linuxkit/linuxkit</a></p>

<p>LinuxKit is a tool for building custom secure, portable and lean operating systems for containers. It was launched at DockerCon 2017 with a demo of Kubernetes, and has continued to improve this support since then. There is a detailed set of <a href="https://github.com/linuxkit/kubernetes">getting started instructions</a> for both Kubernetes with Docker and with containerd. This can be customised further as required.</p>

<p>You can see the see the LinuxKit Kubernetes demo from DockerCon in the video below</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/hwkqju_BXEo?rel=0&amp;start=6420" frameborder="0" allowfullscreen=""></iframe>

<p>You can join the discussions on the <code class="language-plaintext highlighter-rouge">#linuxkit</code> channel on the <a href="https://dockr.ly/comm-slack">Community Slack</a>.</p>

<h3 id="infrakit">InfraKit</h3>

<p>Code: <a href="https://github.com/docker/infrakit">https://github.com/docker/infrakit</a></p>

<p>InfraKit is a toolkit for creating and managing declarative, self-healing infrastructure. It has a Plugin included for creating and managing Kubernetes clusters.  More information is in the repository’s <a href="https://github.com/docker/infrakit/blob/master/pkg/plugin/flavor/kubernetes/README.md">README</a> and below is a video of InfraKit bootstrapping and scaling a Kubernetes cluster:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/HdL4Wwrwcm8?rel=0" frameborder="0" allowfullscreen=""></iframe>

<p>You can join the discussions on the <code class="language-plaintext highlighter-rouge">#infrakit</code> channel on the <a href="https://dockr.ly/comm-slack">Community Slack</a>.</p>

<h3 id="libnetwork">libnetwork</h3>

<p>Code: <a href="https://github.com/docker/libnetwork">https://github.com/docker/libnetwork</a></p>

<p>Support has been <a href="https://github.com/docker/libnetwork/pull/1978">submitted to libnetwork</a> to make it a CNI provider, the base API for Kubernetes network drivers. This enables all the existing Docker network drivers to work with Kubernetes</p>

<p>Kubernetes has merged alpha support for IPVS based L4 load-balancing using the IPVS library support in libnetwork developed originally for Docker Swarm, which was extended for the Kubernetes use cases. For more information, see the pull request at <a href="https://github.com/kubernetes/kubernetes/pull/46580">kubernetes/kubernetes#46580</a>.</p>

<h3 id="notary">Notary</h3>

<p>Code: <a href="https://github.com/docker/notary">https://github.com/docker/notary</a></p>

<p>Notary aims to make the internet more secure by making it easy for people to publish and verify content. It is used for signing and verification of containers by Docker and other container projects. Both Notary and <a href="https://theupdateframework.github.io/">The Update Framework</a> that it is based on are in the process of being <a href="https://github.com/cncf/toc/pull/38">donated to the CNCF</a> and there will be further direct integration with other CNCF projects, such as Kubernetes, soon.</p>

<p>You can join the discussions on the <code class="language-plaintext highlighter-rouge">#notary</code> channel on the <a href="https://dockr.ly/comm-slack">Community Slack</a>.</p>

<h3 id="libentitlement">libentitlement</h3>

<p>Code: <a href="https://github.com/docker/libentitlement">https://github.com/docker/libentitlement</a></p>

<p>This is a work-in-progress library to support a common high level security entitlement interface for Docker and Kubernetes, a similar type of interface to Apple’s entitlements for macOS. It is being developed in conjunction with the Kubernetes community.</p>

	</div>
</div>
<!--
    <script src="//cdn.jsdelivr.net/github-cards/latest/widget.js"></script>
-->

<footer class="footer">
    <div class="container">
        <div class="copyright">
            Copyright © 2024, Moby Project
        </div>
        <div class="footer-links">
            <ul class="navbar-nav mr-auto justify-content-end">
	<li class="nav-item nav-icon">
		<a  title="GitHub" href="https://github.com/moby/moby#readme">
			<i class="fa fa-github" aria-hidden="true"></i>
		</a>
	</li>
	<li><a href="/community">Community</a></li>
	<li><a href="/projects">Projects</a></li>
</ul>

        </div>
    </div>
</footer>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/tether.min.js"></script>
<script src="/js/main.js"></script>
<script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    
    ga('create', 'UA-6096819-28', 'auto');
    ga('send', 'pageview');
</script>
</body>
</html>

